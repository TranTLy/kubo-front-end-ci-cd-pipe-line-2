pipeline{
    agent any
    stages{
        stage('install'){
            steps{
                bat 'npm install'
            }
        }
        stage('test'){
            steps{
                bat 'npm run test'
            }
        }
        stage('start'){
            steps{
                bat 'npm start'
            }
        }
    }
    post {
        // always {
        //     mail to: 'sofiaandyalikesi@gmail.com',
        //         subject: 'Demo CI/CD with Jenkins pipeline',
        //         body: 'Project was built'
        // }
         success {
            mail to: 'sofiaandyalikesi@gmail.com',
                subject: 'Demo CI/CD with Jenkins pipeline',
                body: 'Project was built successfully.'
        }
         always {
            mail to: 'sofiaandyalikesi@gmail.com',
                subject: 'Demo CI/CD with Jenkins pipeline',
                body: 'Failed to buid project'
        }
    }
} 
